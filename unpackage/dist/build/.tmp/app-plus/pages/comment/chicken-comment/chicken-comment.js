(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/comment/chicken-comment/chicken-comment"],{2003:function(t,e,i){"use strict";var n=i("7373"),a=i.n(n);a.a},"20d2":function(t,e,i){"use strict";i.r(e);var n=i("caeb"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},7373:function(t,e,i){},"8bd2":function(t,e,i){"use strict";i.r(e);var n=i("9abb"),a=i("20d2");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("2003");var r=i("2877"),u=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports},"9abb":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},caeb:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{starLevel:0,upHide:!1,picLeft:3,star:[!1,!1,!1,!1,!1],imgurls:[],uploadImgUrls:[],eggInfo:"",content:""}},onLoad:function(t){var e=t.eggInfo;e&&(e=JSON.parse(t.eggInfo),this.eggInfo=e)},methods:{starClick:function(t){for(var e=t,i=[],n=0;n<=e;n++)i[n]=!0;var a=parseFloat(e)+1;this.starLevel=a,this.star=i},xuanTu:function(){var e=this,i=this.picLeft,n="";t.chooseImage({count:i,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var i=t.tempFilePaths;for(var a in i)e.imgurls.push(i[a]);var s=3-e.imgurls.length;n=0==s,e.upHide=n,e.picLeft=s,e.uploadImg(i)}})},onImgClick:function(e){var i=e.currentTarget.dataset.src,n=this.data.imgurls;t.previewImage({current:i,urls:n})},deletePic:function(t){var e=t.currentTarget.dataset.ind;this.imgurls.splice(e,1),this.uploadImgUrls.splice(e,1);var i=3-this.imgurls.length;this.upHide=!1,this.picLeft=i,this.imgurls=this.imgurls},getContent:function(t){var e=t.detail.value;this.content=e},formSubmit:function(e){if(0!=this.starLevel){this.starLevel;var i=this.content,n={user_id:this.globalData.user_info.userid,egg_log_id:this.eggInfo.id,comment_type:1,starlevle:this.starLevel,is_anonymous:0};this.uploadImgUrls[0]&&(n.headimgurl1=this.uploadImgUrls[0]),this.uploadImgUrls[1]&&(n.headimgurl2=this.uploadImgUrls[1]),this.uploadImgUrls[2]&&(n.headimgurl3=this.uploadImgUrls[2]),i&&(n.content=i),this.xm_config.xcx_publish_chicken_comment(n).then(function(e){t.hideLoading(),1==e.data.status?t.navigateBack({}):t.showToast({icon:"none",title:e.data.msg})})}else t.showToast({title:"请选择评价的星级",icon:"none"})},uploadImg:function(e){var i=this,n="";for(var a in e)0==a?n="headimgurl1":1==a?n="headimgurl2":3==a&&(n="headimgurl3"),t.showLoading({title:"加载中..."}),t.uploadFile({url:this.xm_config.xcx_picture_upload,filePath:e[a],formData:i.utils.vc_encryp_param_fun(),name:n,success:function(e){t.hideLoading();var n=JSON.parse(e.data);i.uploadImgUrls.push(n.info),i.imgurls=i.imgurls,0}})}}};e.default=i}).call(this,i("6e42")["default"])}},[["8216","common/runtime","common/vendor"]]]);