(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/leaguer/leaguer-pay/leaguer-pay"],{"021f":function(a,e,n){"use strict";var i=function(){var a=this,e=a.$createElement;a._self._c},t=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return t})},"2cf1":function(a,e,n){"use strict";var i=n("7233"),t=n.n(i);t.a},"4b1a":function(a,e,n){"use strict";(function(a,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{quanyi_intro:"",quanyi_description:"",isPayCheck:!0,order_id:null,headImgUrl:"",nickname:"",end_time:""}},onLoad:function(a){var e=null,n=null;this.globalData.user_info.headimgurl&&(e=this.utils.imageUrlUtils(this.globalData.user_info.headimgurl)),n=this.globalData.user_info.nickname?this.globalData.user_info.nickname:this.globalData.user_info.xcx_nick_name,this.headImgUrl=e,this.nickname=n;var i=a.end_time;this.end_time=i,this.pay_member_info()},methods:{pay_member_info:function(){var e={user_id:this.globalData.user_info.userid},n=this;this.xm_config.pay_member_info(e).then(function(e){1==e.data.status?null!=e.data.info&&(n.quanyi_intro=e.data.info.quanyi_intro,n.quanyi_description=e.data.info.quanyi_description):a.showToast({title:e.data.msg,icon:"none"})})},onQuanyiClick:function(){a.navigateTo({url:"../leaguer-benefit-rule/leaguer-benefit-rule?quanyiDescription="+JSON.stringify(this.quanyi_description)})},payCheckboxChange:function(){this.isPayCheck=!this.isPayCheck},surePay:function(){this.isPayCheck?this.add_order():a.showToast({title:"请选择微信支付",icon:"none"})},add_order:function(){var e={user_id:17152,pay_class:"2"},n=this;this.xm_config.add_hy_order(e).then(function(e){1==e.data.status?null!=e.data.info&&null!=e.data.info.order_id&&(n.order_id=e.data.info.order_id,n.getWxParam()):a.showToast({title:e.data.msg,icon:"none"})})},getWxParam:function(){var e={order_id:this.order_id,payment_code:"weixinapp"},n=this;this.xm_config.weixinxcx_add_order(e).then(function(e){1==e.data.status?null!=e.data.info&&null!=e.data.info.pay_info&&n.weixinappPay(e.data.info.pay_info):a.showToast({title:e.data.msg,icon:"none"})})},weixinxcxPay:function(e){a.requestPayment({provider:"wxpay",timeStamp:e.timeStamp+"",nonceStr:e.nonceStr,package:e.package,signType:"MD5",paySign:e.sign,success:function(e){a.showToast({icon:"none",title:"支付成功"}),a.redirectTo({url:"../leaguer-pay-success/leaguer-pay-success"})},fail:function(e){console.log(n(e," at pages\\leaguer\\leaguer-pay\\leaguer-pay.vue:217")),a.showToast({icon:"none",title:"支付失败"})}})},weixinappPay:function(e){a.requestPayment({provider:"wxpay",orderInfo:JSON.stringify({appid:e.appid,noncestr:e.noncestr,package:e.package,partnerid:e.partnerid,prepayid:e.prepayid,timestamp:e.timestamp+"",sign:e.sign}),success:function(e){console.log(n(e," at pages\\leaguer\\leaguer-pay\\leaguer-pay.vue:244")),a.showToast({icon:"none",title:"支付成功"}),a.redirectTo({url:"../leaguer-pay-success/leaguer-pay-success"})},fail:function(e){console.log(n(e," at pages\\leaguer\\leaguer-pay\\leaguer-pay.vue:255")),a.showToast({icon:"none",title:"支付失败"})}})}}};e.default=i}).call(this,n("6e42")["default"],n("0de9")["default"])},7233:function(a,e,n){},bd56:function(a,e,n){"use strict";n.r(e);var i=n("021f"),t=n("df69");for(var o in t)"default"!==o&&function(a){n.d(e,a,function(){return t[a]})}(o);n("2cf1");var r=n("2877"),s=Object(r["a"])(t["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},df69:function(a,e,n){"use strict";n.r(e);var i=n("4b1a"),t=n.n(i);for(var o in i)"default"!==o&&function(a){n.d(e,a,function(){return i[a]})}(o);e["default"]=t.a}},[["b9f3","common/runtime","common/vendor"]]]);