(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address-add/address-add"],{"1d25":function(i,t,e){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{name:"",phone:"",addressDetails:"",address_info:"",is_default:0,is_showDistpicker:!1,provinceList:[],cityList:[],areaList:[],p:0,c:0,a:0,area_address:"",cityid:"",region_id:"",county_id:"",id:""}},onLoad:function(t){this.getAreaInfo();var e=t.address;if(null!=e&&""!=e){e=JSON.parse(e);this.address_info=e,this.area_address=e.region_name+e.city+(e.county_name?e.county_name:""),this.cityid=e.city_id,this.region_id=e.region_id,this.county_id=e.county_id,this.name=e.consignee,this.addressDetails=e.address,this.phone=e.phone_mob,this.id=e.id,this.is_default=e.default,i.setNavigationBarTitle({title:"编辑地址"})}else i.setNavigationBarTitle({title:"添加地址"})},methods:{getPeopleName:function(i){this.name=i.detail.value},getPeoplePhone:function(i){this.phone=i.detail.value},getAddressDetail:function(i){this.addressDetails=i.detail.value},onYeBoxClcik:function(){this.is_default=1==this.is_default?0:1},getAreaInfo:function(){var t=this;this.xm_config.get_open_region_list().then(function(e){1==e.data.status?null!=e.data.info&&null!=e.data.info.region_list&&(t.areainfoData=e.data.info.region_list,t.setProAreaData()):i.showToast({title:e.data.msg,icon:"none"})})},setProAreaData:function(i,t){i=this.p||0,t=this.c||0;for(var e=this.areainfoData,s=[],a=[],n=[],o=0;o<e.length;o++){var d={province_name:e[o].region_name,province_code:e[o].region_id};s.push(d)}for(var r=0;r<e[i].city_list.length;r++){var c={city_name:e[i].city_list[r].region_name,city_code:e[i].city_list[r].region_id};a.push(c)}for(var h=0;h<e[i].city_list[t].area_list.length;h++){var l={area_name:e[i].city_list[t].area_list[h].region_name,area_code:e[i].city_list[t].area_list[h].region_id};n.push(l)}this.provinceList=s,this.cityList=a,this.areaList=n},bindChange:function(i){this.p=i.detail.value[0],this.c=i.detail.value[1],this.a=i.detail.value[2],this.setProAreaData(this.p,this.c)},showDistpicker:function(){this.is_showDistpicker=!0},distpickerCancel:function(){this.is_showDistpicker=!this.is_showDistpicker},distpickerSure:function(){var i,t,e=this.p,s=this.c,a=this.a;0!=this.areaList.length?(i=this.provinceList[e].province_name+this.cityList[s].city_name+this.areaList[a].area_name,t=this.areaList[a].area_code):(i=this.provinceList[e].province_name+this.cityList[s].city_name,t=""),this.area_address=i,this.cityid=this.cityList[s].city_code,this.region_id=this.provinceList[e].province_code,this.county_id=t,this.distpickerCancel()},save:function(){if(""!=this.name&&null!=this.name)if(""!=this.phone&&null!=this.phone)if(""!=this.cityid&&""!=this.region_id)if(""!=this.addressDetails&&null!=this.addressDetails){if(""!=this.id){var t={id:this.address_info.id,region_id:this.region_id,city_id:this.cityid,consignee:this.name,address:this.addressDetails,phone_mob:this.phone,default:this.is_default};this.county_id&&(t.county_id=this.county_id),this.xm_config.edit_user_address(t).then(function(t){if(1==t.data.status){i.showToast({title:"编辑成功",icon:"none"});var e=getCurrentPages(),s=(e[e.length-1],e[e.length-2]);s.$vm.address_lists(),i.navigateBack({})}else i.showToast({title:t.data.msg,icon:"none"})})}else{var e={user_id:this.globalData.user_info.userid,region_id:this.region_id,city_id:this.cityid,consignee:this.name,address:this.addressDetails,phone_mob:this.phone,default:this.is_default};this.county_id&&(e.county_id=this.county_id),this.xm_config.add_user_address(e).then(function(t){if(1==t.data.status){i.showToast({title:"编辑成功",icon:"none"});var e=getCurrentPages(),s=(e[e.length-1],e[e.length-2]);s.$vm.address_lists(),i.navigateBack({})}else i.showToast({title:t.data.msg,icon:"none"})})}}else i.showToast({title:"请填写详细地址",icon:"none"});else i.showToast({title:"请选择地址",icon:"none"});else i.showToast({title:"请填写手机号码",icon:"none"});else i.showToast({title:"请填写联系人姓名",icon:"none"})}}};t.default=e}).call(this,e("6e42")["default"])},"59ba":function(i,t,e){"use strict";var s=e("c68b"),a=e.n(s);a.a},"68c3":function(i,t,e){"use strict";e.r(t);var s=e("1d25"),a=e.n(s);for(var n in s)"default"!==n&&function(i){e.d(t,i,function(){return s[i]})}(n);t["default"]=a.a},9158:function(i,t,e){"use strict";e.r(t);var s=e("d643"),a=e("68c3");for(var n in a)"default"!==n&&function(i){e.d(t,i,function(){return a[i]})}(n);e("59ba");var o=e("2877"),d=Object(o["a"])(a["default"],s["a"],s["b"],!1,null,null,null);t["default"]=d.exports},c68b:function(i,t,e){},d643:function(i,t,e){"use strict";var s=function(){var i=this,t=i.$createElement;i._self._c},a=[];e.d(t,"a",function(){return s}),e.d(t,"b",function(){return a})}},[["3410","common/runtime","common/vendor"]]]);